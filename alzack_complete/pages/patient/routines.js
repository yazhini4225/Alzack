import {useEffect,useState} from 'react'
export default function Routines(){ const [r,setR]=useState([]); const [f,setF]=useState({title:'',details:'',time:''}); useEffect(()=>{ fetch('/api/routines').then(r=>r.json()).then(j=>setR(j)) },[]); async function add(e){ e.preventDefault(); await fetch('/api/routines',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(f)}); setR(await (await fetch('/api/routines')).json()); } return (<div style={{padding:20}}><h2>Routines</h2><form onSubmit={add}><input placeholder='Title' value={f.title} onChange={e=>setF({...f,title:e.target.value})}/><br/><input placeholder='Details' value={f.details} onChange={e=>setF({...f,details:e.target.value})}/><br/><input type='datetime-local' value={f.time} onChange={e=>setF({...f,time:e.target.value})}/><br/><button>Add</button></form><ul>{r.map(x=><li key={x.id}>{x.title} - {new Date(x.time).toLocaleString()}</li>)}</ul></div>) }
